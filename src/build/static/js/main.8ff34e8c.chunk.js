(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{115:function(e,t,a){e.exports={wrapper:"messageField_wrapper__1t9Uh",textarea:"messageField_textarea__2OUZm"}},148:function(e,t,a){e.exports={wrapper:"communicationList_wrapper__2MIGH"}},151:function(e,t,a){e.exports={wrapper:"messageBord_wrapper__1nw_z",message_list:"messageBord_message_list__7wIT-",buttons:"messageBord_buttons__3vBox"}},159:function(e,t,a){e.exports={wrapper:"main-page_wrapper__3G1B_"}},185:function(e,t,a){},219:function(e,t,a){"use strict";a.r(t);var n=a(48),s=a.n(n),r=(a(185),a(16)),c=a(0),i=a.n(c),o=a(160),l=a(19),u=a(17),d=a(14),j=a(78),b=a(59),p=a.n(b),g=a(135),h=a.n(g).a.create({baseURL:"https://no-name-chat.herokuapp.com/api/",headers:{"Content-Type":"application/json"},withCredentials:!0}),_={getComData:function(e){return Object(j.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.get("/com_data/?params=".concat(e)).then((function(e){return e.data}));case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()}},O={login:function(e){return Object(j.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.post("/login",e).then((function(e){return e.data}));case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},register:function(e){return Object(j.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.post("/register",e).then((function(e){return e.data}));case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()}},m={authData:null,isLoading:!1,error:null,userListStatus:!0},x=function(e){return{type:"SET_AUTH_DATA",payload:e}},f=function(e){return{type:"SET_ERROR",payload:e}},w=function(e){return{type:"SET_LOADING_STATUS",payload:e}},v=function(e){return{type:"SET_USER_LIST_STATUS",payload:e}},S=function(e){return function(t){t(v(e))}},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTH_DATA":return Object(d.a)(Object(d.a)({},e),{},{authData:t.payload});case"SET_ERROR":return Object(d.a)(Object(d.a)({},e),{},{error:t.payload});case"SET_LOADING_STATUS":return Object(d.a)(Object(d.a)({},e),{},{isLoading:t.payload});case"SET_USER_LIST_STATUS":return Object(d.a)(Object(d.a)({},e),{},{userListStatus:t.payload});default:return e}},y=a(164),I=Object(y.a)("https://no-name-chat.herokuapp.com",{transports:["websocket","polling","flashsocket"]}),E=null,T=function(e){E=e};I.on("new-message",(function(e){E(M(e))})),I.on("send-error",(function(e){console.log(e),E(f(e))})),I.on("update-messages-status",(function(e){E(M(e))}));var C={sendNewMessage:function(e){I.emit("new-message",e)},sendMySocketId:function(e){I.emit("set_my_socketId_in_db",e)},updateNewMessagesStatus:function(e,t){I.emit("new-messages-opened",{userId:e,dialogId:t})}},U={dialogsList:[],allUsersList:[],selectedUser:null,progressMessages:[],isLoading:!0},D=function(e){return{type:"SET_DIALOGS_LIST",payload:e}},k=function(e){return{type:"SET_SELECTED_USER",payload:e}},N=function(e){return{type:"SET_ALL_USERS",payload:e}},R=function(e){return{type:"ADD_DIALOG_USER",payload:e}},A=function(e){return{type:"SET_LOADIND_STATUS",payload:e}},z=function(e){return function(t){t(k(e))}},M=function(e){return function(t){_.getComData(e).then((function(a){200!==a.statusCode?console.log(a):(C.sendMySocketId(e),t(N(a.data.allUsers)),a.data.comList&&(t(D(a.data.comList)),t(A(!1))))}))}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DIALOGS_LIST":return Object(d.a)(Object(d.a)({},e),{},{dialogsList:Object(u.a)(t.payload)});case"SET_LOADIND_STATUS":return Object(d.a)(Object(d.a)({},e),{},{isLoading:t.payload});case"SET_SELECTED_USER":return Object(d.a)(Object(d.a)({},e),{},{selectedUser:t.payload});case"SET_ALL_USERS":return Object(d.a)(Object(d.a)({},e),{},{allUsersList:Object(u.a)(t.payload)});case"ADD_DIALOG_USER":return Object(d.a)(Object(d.a)({},e),{},{dialogsList:[].concat(Object(u.a)(e.dialogsList),[t.payload])});default:return e}},G=function(e){return e.mainReducer.authData},B=function(e){return e.mainReducer.isLoading},J=function(e){return e.mainReducer.error},F=function(e){return e.mainReducer.userListStatus},H=function(e){return e.communicationReducer.allUsersList},W=function(e){return e.communicationReducer.dialogsList},V=function(e){return e.communicationReducer.selectedUser},Y=function(e){var t;return null===(t=e.communicationReducer)||void 0===t?void 0:t.selectedUser},q=function(e){return e.communicationReducer.isLoading},K=a(12),Q=a(273),Z=a(284),X=a(281),$=a(1),ee=c.forwardRef((function(e,t){return Object($.jsx)(X.a,Object(d.a)({elevation:6,ref:t,variant:"filled"},e))}));function te(e){var t=e.text,a=c.useState(!1),n=Object(K.a)(a,2),s=n[0],r=n[1];c.useEffect((function(){r(!0)}),[t]);var i=function(e,t){"clickaway"!==t&&r(!1)};return Object($.jsx)(Q.a,{spacing:2,sx:{width:"100%"},children:Object($.jsx)(Z.a,{open:s,autoHideDuration:6e3,onClose:i,children:Object($.jsx)(ee,{onClose:i,severity:"error",sx:{width:"100%"},children:t})})})}var ae=a(3),ne=a(5),se=a(271),re=a(293),ce=a(292),ie=a(294),oe=a(291),le=a(295),ue=a(32),de=a(282),je=a(285),be=a(163),pe=a(142),ge=a.n(pe),he=a(143),_e=a.n(he),Oe=a(113),me=a.n(Oe),xe=a(111),fe=a.n(xe),we=a(112),ve=a.n(we),Se=a(144),Le=a.n(Se),ye=Object(ne.a)("div")((function(e){var t=e.theme;return Object(ae.a)({position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:Object(se.a)(t.palette.common.white,.15),"&:hover":{backgroundColor:Object(se.a)(t.palette.common.white,.25)},marginRight:t.spacing(2),marginLeft:0,width:"100%"},t.breakpoints.up("sm"),{marginLeft:t.spacing(3),width:"auto"})})),Ie=Object(ne.a)("div")((function(e){return{padding:e.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),Ee=Object(ne.a)(ue.c)((function(e){var t=e.theme;return{color:"inherit","& .MuiInputBase-input":Object(ae.a)({padding:t.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(t.spacing(4),")"),transition:t.transitions.create("width"),width:"100%"},t.breakpoints.up("md"),{width:"20ch"})}})),Te=function(){var e=c.useState(null),t=Object(K.a)(e,2),a=t[0],n=t[1],s=c.useState(null),r=Object(K.a)(s,2),i=r[0],o=r[1],l=Boolean(a),u=Boolean(i),d=function(e){n(e.currentTarget)},j=function(){o(null)},b=function(){n(null),j()},p="primary-search-account-menu",g=Object($.jsxs)(be.a,{anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},id:p,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:l,onClose:b,children:[Object($.jsx)(je.a,{onClick:b,children:"Profile"}),Object($.jsx)(je.a,{onClick:b,children:"My account"})]}),h="primary-search-account-menu-mobile",_=Object($.jsxs)(be.a,{anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},id:h,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:u,onClose:j,children:[Object($.jsxs)(je.a,{children:[Object($.jsx)(oe.a,{size:"large","aria-label":"show 4 new mails",color:"inherit",children:Object($.jsx)(de.a,{badgeContent:4,color:"error",children:Object($.jsx)(fe.a,{})})}),Object($.jsx)("p",{children:"Messages"})]}),Object($.jsxs)(je.a,{children:[Object($.jsx)(oe.a,{size:"large","aria-label":"show 17 new notifications",color:"inherit",children:Object($.jsx)(de.a,{badgeContent:17,color:"error",children:Object($.jsx)(ve.a,{})})}),Object($.jsx)("p",{children:"Notifications"})]}),Object($.jsxs)(je.a,{onClick:d,children:[Object($.jsx)(oe.a,{size:"large","aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object($.jsx)(me.a,{})}),Object($.jsx)("p",{children:"Profile"})]})]});return Object($.jsxs)(ce.a,{sx:{flexGrow:1},children:[Object($.jsx)(re.a,{position:"static",children:Object($.jsxs)(ie.a,{children:[Object($.jsx)(oe.a,{size:"large",edge:"start",color:"inherit","aria-label":"open drawer",sx:{mr:2},children:Object($.jsx)(ge.a,{})}),Object($.jsx)(le.a,{variant:"h6",noWrap:!0,component:"div",sx:{display:{xs:"none",sm:"block"}},children:"MUI"}),Object($.jsxs)(ye,{children:[Object($.jsx)(Ie,{children:Object($.jsx)(_e.a,{})}),Object($.jsx)(Ee,{placeholder:"Search\u2026",inputProps:{"aria-label":"search"}})]}),Object($.jsx)(ce.a,{sx:{flexGrow:1}}),Object($.jsxs)(ce.a,{sx:{display:{xs:"none",md:"flex"}},children:[Object($.jsx)(oe.a,{size:"large","aria-label":"show 4 new mails",color:"inherit",children:Object($.jsx)(de.a,{badgeContent:0,color:"error",children:Object($.jsx)(fe.a,{})})}),Object($.jsx)(oe.a,{size:"large","aria-label":"show 17 new notifications",color:"inherit",children:Object($.jsx)(de.a,{badgeContent:0,color:"error",children:Object($.jsx)(ve.a,{})})}),Object($.jsx)(oe.a,{size:"large",edge:"end","aria-label":"account of current user","aria-controls":p,"aria-haspopup":"true",onClick:d,color:"inherit",children:Object($.jsx)(me.a,{})})]}),Object($.jsx)(ce.a,{sx:{display:{xs:"flex",md:"none"}},children:Object($.jsx)(oe.a,{size:"large","aria-label":"show more","aria-controls":h,"aria-haspopup":"true",onClick:function(e){o(e.currentTarget)},color:"inherit",children:Object($.jsx)(Le.a,{})})})]})}),_,g]})},Ce=a(301),Ue=a(278),De=a(280),ke=a(302),Ne=a(146),Re=a.n(Ne),Ae=a(147),ze=a.n(Ae),Me=a(303),Pe=a(95),Ge=a.n(Pe),Be=a(145),Je=a.n(Be),Fe=function(){return Object($.jsxs)("div",{className:Ge.a.plug_wrapper,children:[Object($.jsx)(Je.a,{color:"success",fontSize:"large",className:Ge.a.plug_hand_icon}),Object($.jsx)("div",{className:Ge.a.plug_text,children:"\u0423 \u0432\u0430\u0441 \u0435\u0448\u0435 \u043d\u0435\u0442 \u043d\u0438 \u043e\u0434\u043d\u043e\u0433\u043e \u0434\u0438\u0430\u043b\u043e\u0433\u0430. \u041f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u0432\u043e \u0432\u043a\u043b\u0430\u0434\u043a\u0443 \u0441\u043e \u0432\u0441\u0435\u043c\u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u043c\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c\u0438, \u0438 \u0432\u044b\u0431\u0438\u0440\u0438\u0442\u0435 \u043a\u043e\u043c\u0443 \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c."})]})},He=a(64),We=a.n(He),Ve=a(290),Ye=function(e){var t=e.name,a=e.w,n=e.h;return Object($.jsx)("div",{children:Object($.jsx)(Ve.a,{sx:{width:a,height:n,bgcolor:"#1E90FF",zIndex:"200"},alt:t,src:"/static/images/avatar/1.jpg"})})},qe=function(e){var t=e.item,a=e.activeId,n=e.openDialog,s=e.Icon,r=e.isShowLastMesg;return Object($.jsxs)("div",{className:a===t._id?We.a.user_wrapper_active:We.a.user_wrapper,onClick:function(){return n(t)},children:[Object($.jsxs)("div",{className:We.a.user_info,children:[Object($.jsx)(Ye,{name:t.name,w:56,h:56}),Object($.jsxs)("div",{className:We.a.user_text,children:[Object($.jsx)(le.a,{noWrap:!0,sx:{fontSize:"14px"},children:t.name}),t.messages&&t.messages.length>0&&r?Object($.jsx)(le.a,{className:We.a.user_last_msg,noWrap:!0,sx:{fontSize:"12px"},children:t.messages[t.messages.length-1].messageText}):""]})]}),Object($.jsx)("div",{className:We.a.new_message_count,children:Object($.jsx)(de.a,{color:"success",badgeContent:t.newMessagesCount,children:Object($.jsx)(s,{color:"primary",fontSize:"medium"})})})]},t._id)},Ke=function(e){var t=e.UserList,a=e.openDialog,n=e.Icon,s=e.isShowLastMesg,c=Object(r.c)(Y);return Object($.jsx)("div",{children:t&&t.map((function(e){return Object($.jsx)(qe,{item:e,activeId:c,openDialog:a,Icon:n,isShowLastMesg:s},e._id)}))})};function Qe(e){var t=e.dialogList,a=e.allUsersList,n=e.setSelectedUser,s=e.isLoading,r=c.useState("1"),i=Object(K.a)(r,2),o=i[0],l=i[1],u=function(e){l("1"),n(e)};return Object($.jsx)(ce.a,{sx:{width:"100%",typography:"body1"},children:Object($.jsxs)(Ue.a,{value:o,children:[Object($.jsx)(ce.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object($.jsxs)(De.a,{onChange:function(e,t){l(t),n(null)},"aria-label":"lab API tabs example",children:[Object($.jsx)(Ce.a,{sx:{width:"50%"},label:"your dialogues",value:"1"}),Object($.jsx)(Ce.a,{sx:{width:"50%"},label:"all users",value:"2"})]})}),Object($.jsx)(ke.a,{sx:{padding:"6px"},value:"1",children:t&&t.length>0?Object($.jsx)(Ke,{openDialog:u,UserList:t,Icon:Re.a,isShowLastMesg:!0}):t&&s?Object($.jsx)(Me.a,{sx:{position:"absolute",left:"50%",bottom:"50%"}}):Object($.jsx)(Fe,{})}),Object($.jsx)(ke.a,{sx:{padding:"6px"},value:"2",children:Object($.jsx)(Ke,{openDialog:u,UserList:a,Icon:ze.a,isShowLastMesg:!1})})]})})}var Ze=a(148),Xe=a.n(Ze),$e=function(e){var t=Object(r.b)(),a=Object(r.c)(q),n=e.dialogList,s=e.allUsersList,i=e.userListStatus,o=e.showUsersList,l=Object(c.useRef)(null),u=Object(c.useState)(null),d=Object(K.a)(u,2),j=d[0],b=d[1];Object(c.useEffect)((function(){b(l.current.offsetWidth)}));return Object($.jsx)("div",{ref:l,className:Xe.a.wrapper,style:{marginLeft:i?"8px":"-".concat(j,"px")},children:Object($.jsx)(Qe,{setSelectedUser:function(e){e?n.filter((function(t){return t._id===e._id})).length>0?(t(z(e._id)),window.innerWidth<=668&&o(!1)):(t(function(e){return function(t){t(R(e))}}(e)),t(z(e._id)),window.innerWidth<=668&&o(!1)):t(z(null))},dialogList:n,allUsersList:s,isLoading:a})})},et=a(52),tt=a.n(et),at=a(149),nt=a.n(at),st=null,rt=null,ct=function(e){var t=e.id,a=e.message,n=e.name,s=e.index,r=e.time;return 0!==s&&(st=rt),rt=a.autorId,Object($.jsxs)("div",{className:a.autorId===t?tt.a.message_wrapper_left:tt.a.message_wrapper,children:[Object($.jsxs)("div",{className:a.autorId===t?tt.a.message_container_left:tt.a.message_container,children:[Object($.jsx)("p",{className:tt.a.message_text,children:a.messageText}),Object($.jsxs)("div",{className:tt.a.message_info,children:[!a.progress&&Object($.jsx)("div",{children:r}),Object($.jsx)("div",{className:tt.a.message_progress_container,children:Object($.jsx)(Q.a,{children:a.progress?Object($.jsx)(Me.a,{variant:"indeterminate",sx:{animationDuration:"300ms",color:"#389b3d"},size:10}):Object($.jsx)(nt.a,{sx:{fontSize:"medium"}})})})]})]}),Object($.jsx)("div",{className:a.autorId===st&&0!==s?tt.a.hidden_avatar:tt.a.avatar,children:Object($.jsx)(Ye,{name:n,w:56,h:56})})]})},it=a(114),ot=a(150),lt=a.n(ot);it.a.locale(lt.a);var ut=a(151),dt=a.n(ut),jt=function(e){var t,a=e.selectedUser,n=e.authData,s=Object(r.b)(),i=Object(c.useRef)(null);return Object(c.useEffect)((function(){var e;null===(e=i.current)||void 0===e||e.scrollIntoView({behavior:"auto",block:"end"})}),[null===(t=a.messages)||void 0===t?void 0:t.length]),Object(c.useEffect)((function(){!function(e){var t;null===(t=e.messages)||void 0===t||t.forEach((function(e){null!==localStorage.getItem(e.sendDate)&&localStorage.removeItem(e.sendDate)}))}(a)}),[a]),Object(c.useEffect)((function(){var e,t;a.newMessagesCount>0&&s((e=n._id,t=a.dialogId,function(a){C.updateNewMessagesStatus(e,t)}))}),[n._id,s,a]),Object($.jsxs)("div",{className:dt.a.message_list,children:[a.messages&&a.messages.map((function(e,t){var n,s=(n=e.date,it.a.format(new Date(n),"dddd, HH:mm").split(","));return Object($.jsx)(ct,{name:a.name,id:a._id,message:e,index:t,time:s[1]},e._id+e.date)})),Object($.jsx)("div",{ref:i})]})},bt=a(154),pt=a.n(bt),gt=a(153),ht=a.n(gt),_t=a(83),Ot=a.n(_t),mt=a(152),xt=a.n(mt),ft=a(276),wt=a(296),vt=a(115),St=a.n(vt);function Lt(e){var t=e.addProgressMessage,a=e._id,n=e.name,s=e.selectedUser,i=Object(r.b)(),o=Object(c.useState)(""),l=Object(K.a)(o,2),u=l[0],d=l[1],j=function(){var e=function(e){var t=e.currentValue,a=e._id,n=e.name,s=e.selectedUser,r={messageText:t,autorId:a,autorName:n,to:s._id,dialogId:s.dialogId,sendDate:Date.now(),progress:!0};return localStorage.setItem(r.sendDate,JSON.stringify({user:s._id,message:r})),r}({currentValue:u,_id:a,name:n,selectedUser:s});t(),i(function(e){return function(t){C.sendNewMessage(e)}}(e)),d("")};return Object($.jsxs)(ce.a,{className:St.a.wrapper,children:[Object($.jsx)(ft.a,{className:St.a.textarea,placeholder:"\u0422\u0435\u043a\u0441\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f...",onChange:function(e){d(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),j())},value:u}),Object($.jsx)(wt.a,{onClick:function(){j()},size:"medium",color:"success",children:Object($.jsx)(xt.a,{})})]})}var yt=function(){var e=Object(r.b)(),t=Object(r.c)(W),a=Object(r.c)(H),n=Object(r.c)(V),s=Object(r.c)(G),i=Object(r.c)(F),o=n&&t?t.filter((function(e){return e._id===n}))[0]:null,l=s._id,j=s.name,b=Object(c.useState)(o),p=Object(K.a)(b,2),g=p[0],h=p[1];Object(c.useEffect)((function(){h(o)}),[o]),Object(c.useEffect)((function(){s._id&&e(M(s._id))}),[]);var _=function(){e(S(!0!==i))};return Object($.jsxs)("div",{className:Ot.a.wrapper,children:[Object($.jsx)($e,{userListStatus:i,dialogList:t,allUsersList:a,showUsersList:_}),g&&Object($.jsxs)("div",{className:Ot.a.dialog_container,children:[Object($.jsxs)("div",{className:Ot.a.buttons_container,children:[Object($.jsx)("div",{className:Ot.a.button_arrows,children:Object($.jsx)(oe.a,{onClick:function(){return _()},children:Object($.jsx)(ht.a,{color:"success",fontSize:"large"})})}),Object($.jsx)(oe.a,{onClick:function(){return e(z(null)),void e(S(!0))},children:Object($.jsx)(pt.a,{color:"warning",fontSize:"large"})})]}),Object($.jsx)(jt,{selectedUser:g,authData:s}),Object($.jsx)(Lt,{_id:l,name:j,selectedUser:g,addProgressMessage:function(){for(var e=0,t=Object.keys(localStorage);e<t.length;e++){var a=t[e],n=JSON.parse(String(localStorage.getItem(a)));n.user===g._id&&(g.messages?h(Object(d.a)(Object(d.a)({},g),{},{messages:[].concat(Object(u.a)(g.messages),[n.message])})):h(Object(d.a)(Object(d.a)({},g),{},{messages:[n.message]})))}}})]})]})},It=a(157),Et=a.n(It),Tt=a(286),Ct=a(158),Ut=a.n(Ct),Dt=a(289),kt=a(287),Nt=a(299),Rt=a(297),At=a(156),zt=a.n(At),Mt=a(155),Pt=a.n(Mt),Gt=a(279),Bt=a(298),Jt=function(e){var t=e.values,a=e.isLoading,n=e.handleChange,s=e.handleClickShowPassword,r=e.showPassword,c=i.a.useState({name:!1,password:!1}),o=Object(K.a)(c,2),l=o[0],u=o[1],j=function(e,t){u(Object(d.a)(Object(d.a)({},l),{},Object(ae.a)({},t,e)))},b=t.name.length<=2&&l.name,p=t.password.length<=2&&l.password;return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(ce.a,{children:Object($.jsx)(Gt.a,{required:!0,error:b,onBlur:function(e){return j(e.target.value.length<=2,"name")},label:"Name",value:t.name,sx:{m:1,width:"43ch"},disabled:a,onChange:n("name"),helperText:"Name must be at least 3 characters"})}),Object($.jsx)(ce.a,{children:Object($.jsxs)(Rt.a,{sx:{m:1,width:"43ch"},error:p,children:[Object($.jsx)(kt.a,{required:!0,children:"Password"}),Object($.jsx)(Dt.a,{onBlur:function(e){return j(e.target.value.length<=2,"password")},type:r?"text":"password",value:t.password,disabled:a,onChange:n("password"),endAdornment:Object($.jsx)(Nt.a,{position:"end",children:Object($.jsx)(oe.a,{onClick:function(){return s()},onMouseDown:function(e){return function(e){e.preventDefault()}(e)},edge:"end",children:r?Object($.jsx)(Pt.a,{}):Object($.jsx)(zt.a,{})})}),label:"Password"}),Object($.jsx)(Bt.a,{children:"Password must be at least 3 characters"})]})})]})},Ft=function(){var e=Object(r.c)(B),t=Object(r.b)(),a=i.a.useState({name:"",password:""}),n=Object(K.a)(a,2),s=n[0],c=n[1],o=i.a.useState(""),l=Object(K.a)(o,2),u=l[0],j=l[1],b=i.a.useState(!1),p=Object(K.a)(b,2),g=p[0],h=p[1];function _(e){var a;I.id&&(j(e),t((a={name:s.name,password:s.password,socketId:I.id},function(e){e(w(!0)),e(f(null)),O.login(a).then((function(t){404===t.statusCode?e(f(t.message)):e(x(t.user)),e(w(!1))}))})))}function m(e){var a;j(e),t((a={name:s.name,password:s.password,socketId:I.id},function(e){e(w(!0)),e(f(null)),O.register(a).then((function(t){400===t.statusCode?e(f(t.message)):e(x(t.user)),e(w(!1))}))}))}var v=s.name.length<=2||s.password.length<=2;return Object($.jsxs)(ce.a,{sx:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object($.jsx)(Jt,{values:s,isLoading:e,showPassword:g,handleChange:function(e){return function(t){c(Object(d.a)(Object(d.a)({},s),{},Object(ae.a)({},e,t.target.value)))}},handleClickShowPassword:function(){h(!g)},disabled:v}),(""===u||"login"===u||!e)&&Object($.jsx)(Tt.a,{sx:{m:"10px"},onClick:function(){return _("login")},endIcon:Object($.jsx)(Et.a,{}),loading:e,loadingPosition:"end",variant:"contained",disabled:v,children:"Login"}),(""===u||"register"===u||!e)&&Object($.jsx)(Tt.a,{disabled:v,sx:{m:"10px"},onClick:function(){m("register")},endIcon:Object($.jsx)(Ut.a,{}),loading:e,loadingPosition:"end",variant:"contained",color:"success",children:"REGISTER"})]})},Ht=a(159),Wt=a.n(Ht),Vt=function(){var e=Object(r.c)(G),t=Object(r.c)(J),a=Object(r.b)();return Object(c.useEffect)((function(){a((function(e){T(e)}))}),[]),Object($.jsxs)("div",{className:Wt.a.wrapper,children:[t&&Object($.jsx)(te,{text:t}),e&&Object($.jsx)(Te,{}),e?Object($.jsx)(yt,{}):Object($.jsx)(Ft,{})]})},Yt=function(){return Object($.jsx)(o.a,{children:Object($.jsxs)(l.d,{children:[Object($.jsx)(l.b,{path:"/",component:Vt}),Object($.jsx)(l.b,{path:"/",render:function(){return Object($.jsx)(l.a,{to:"/"})}})]})})},qt=a(162),Kt=a(96),Qt=Object(Kt.b)({mainReducer:L,communicationReducer:P}),Zt=Object(Kt.c)(Qt,Object(Kt.a)(qt.a));window.store=Zt;var Xt=Zt;s.a.render(Object($.jsx)(r.a,{store:Xt,children:Object($.jsx)(Yt,{})}),document.getElementById("root"))},52:function(e,t,a){e.exports={message_wrapper:"message_message_wrapper__3IbtJ",message_wrapper_left:"message_message_wrapper_left__pLiRs",avatar:"message_avatar__3LkBh",message_container:"message_message_container__31IJx",message_container_left:"message_message_container_left__5Gs6Z",message_info:"message_message_info__2lxna",message_text:"message_message_text__1o_vl",message_progress_container:"message_message_progress_container__2G9rX",hidden_avatar:"message_hidden_avatar__2cGKY"}},64:function(e,t,a){e.exports={user_wrapper:"user-card_user_wrapper__3bPL2",user_wrapper_active:"user-card_user_wrapper_active__2ATYr",user_text:"user-card_user_text__1Qf1b",user_info:"user-card_user_info__15r93",user_last_msg:"user-card_user_last_msg__th33P",user_name:"user-card_user_name__2UJ8s",new_message_count:"user-card_new_message_count__FfV3_"}},83:function(e,t,a){e.exports={wrapper:"chat-page_wrapper__1VEiE",dialog_container:"chat-page_dialog_container__CmYxH",buttons_container:"chat-page_buttons_container__1QAJJ",button_arrows:"chat-page_button_arrows__x14bz"}},95:function(e,t,a){e.exports={plug_wrapper:"plugs_plug_wrapper__2rSuw",plug_text:"plugs_plug_text__1Gv0x",plug_hand_icon:"plugs_plug_hand_icon__10E9b",rotate:"plugs_rotate__3jFfh"}}},[[219,1,2]]]);
//# sourceMappingURL=main.8ff34e8c.chunk.js.map